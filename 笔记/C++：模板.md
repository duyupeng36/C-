# 模板

模板是一种通用的描述机制，使用模板允许使用通用类型来定义函数或类。在使用时，通用类型可被具体的类型替代。

C/C++ 这类静态强类型的编译型语言，要求先编译后运行。它们都有一个强大的类型系统，**希望在程序执行之前，尽可能地发现错误**，防止错误被延迟到运行时。像 Python 这种动态强类解释型语言没有编译步骤，变量的类型是在运行时确定的。因此，错误往往会在运行时才会被检查出来。

强类型程序设计中，参与运算的所有对象的类型在编译时即确定下来，并且编译程序将进行严格的类型检查。为了解决强类型的严格性和灵活性的冲突，也就是在严格的语法要求下尽可能提高灵活性，有以下 $3$ 种方式解决：**函数式宏**、 **重载函数** 和 **模板（将类型作为参数化）**

我们看下面的一个例子：假设我们要编写一个加法器，采用函数重载的方式就需要为每种类型甚至是他们的组合情况编写不同的函数。

```cpp
int add(int x, int y)
{
    return x + y;
}

double add(double x, double y)
{
    return x + y;
}

long add(long x, long y)
{
    return x + y;
}

string add(string x, string y)
{
    return x + y;
}
```

这显得代码比较冗余。采用模板就只用编写次，然后在运行的时候选择类型

```cpp
template <typename T>
T add(T x, T y)
{
    return x + y;
}
```

模板作为实现代码重用机制的一种工具，它可以实现 **类型参数化**，即把类型定义为参数， 从而实现了真正的代码可重用性。模板可以分为两类，一个是 **函数模版**，另外一个是**类模板**。通过参数实例化构造出具体的函数或类，称为 **模板函数** 或 **模板类**。

模板本质上就是一个 **代码生成器**，它的作用就是 **让编译器根据实际调用来生成代码**。

> [!important] 
> 
> 请注意：**模板发生的时机是在编译时**
> 

## 定义模板







